(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4989:function(e,s,a){Promise.resolve().then(a.bind(a,7992))},7992:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var r=a(7437),t=a(2265),l=a(27),n=a(4633);function i(e){let{role:s,content:a}=e;return(0,r.jsx)("div",{className:"w-full",children:"user"===s?(0,r.jsx)("div",{className:"max-w-3xl ml-auto",children:(0,r.jsx)("div",{className:"bg-white text-black rounded-2xl px-6 py-4 shadow-lg",children:"string"==typeof a?(0,r.jsx)("p",{className:"leading-relaxed whitespace-pre-wrap text-base",children:a}):a})}):(0,r.jsx)("div",{className:"max-w-4xl mr-auto",children:(0,r.jsx)("div",{className:"bg-gray-900/50 border border-gray-700 rounded-2xl px-6 py-5",children:(0,r.jsx)("div",{className:"prose prose-invert max-w-none",children:"string"==typeof a?(0,r.jsx)("p",{className:"leading-relaxed whitespace-pre-wrap text-base text-white",children:a}):a})})})})}function o(e){let{items:s}=e;return s&&0!==s.length?(0,r.jsxs)("div",{className:"max-w-4xl mr-auto",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-200",children:"Search Results"})]}),(0,r.jsx)("div",{className:"space-y-4",children:s.slice(0,8).map((e,s)=>{var a,t;return(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"group block rounded-xl border border-gray-700 bg-gray-900/30 p-5 hover:bg-gray-800/50 hover:border-gray-600 transition-all duration-200 hover:shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 w-6 h-6 mt-1",children:[e.favicon?(0,r.jsx)("img",{src:e.favicon,alt:e.domain,className:"w-6 h-6 rounded-sm",onError:e=>{var s;e.currentTarget.style.display="none",null===(s=e.currentTarget.nextElementSibling)||void 0===s||s.classList.remove("hidden")}}):null,(0,r.jsx)("div",{className:"w-6 h-6 bg-gray-700 rounded-sm flex items-center justify-center ".concat(e.favicon?"hidden":""),children:(0,r.jsx)("svg",{className:"w-3 h-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-blue-400 group-hover:text-blue-300 transition-colors line-clamp-1",children:e.title||e.domain}),(0,r.jsx)("svg",{className:"w-3 h-3 text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),(0,r.jsx)("div",{className:"text-sm text-green-400 mb-2",children:e.url}),e.snippet&&(0,r.jsx)("p",{className:"text-sm text-gray-300 line-clamp-2 leading-relaxed",children:e.snippet}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 mt-2 text-xs text-gray-500",children:[(0,r.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:(null===(a=e.metadata)||void 0===a?void 0:a.published_date)?new Date(e.metadata.published_date).toLocaleDateString():"Recently"})]}),(null===(t=e.metadata)||void 0===t?void 0:t.language)&&"en"!==e.metadata.language&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{className:"uppercase",children:e.metadata.language})]})]})]})]})},s)})})]}):null}async function c(e,s){let a=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,...s})});if(!a.ok)throw Error("Search failed");return await a.json()}async function d(e){var s;let a=new URL("/api/search",window.location.origin);a.searchParams.set("query",e);let r=await fetch(a.toString());return r.ok&&null!==(s=(await r.json()).suggestions)&&void 0!==s?s:[]}function x(){let[e,s]=(0,t.useState)(""),[a,x]=(0,t.useState)(!1),[m,h]=(0,t.useState)([]),[u,g]=(0,t.useState)(null),[p,v]=(0,t.useState)([]),j=(0,t.useRef)(null);async function b(a){let r=(null!=a?a:e).trim();if(r){x(!0),v([]),h(e=>[...e,{id:crypto.randomUUID(),role:"user",content:r}]),s("");try{let e=await c(r);g(e),h(s=>[...s,{id:crypto.randomUUID(),role:"assistant",content:e.ai_summary||"No summary available."}])}catch(e){h(e=>[...e,{id:crypto.randomUUID(),role:"assistant",content:"Something went wrong."}])}finally{x(!1)}}}(0,t.useEffect)(()=>{if(e.length<2){v([]);return}let s=setTimeout(async()=>{try{let s=await d(e);v(s)}catch(e){}},150);return()=>clearTimeout(s)},[e]);let f=(0,t.useMemo)(()=>u?u.results.map(e=>({title:e.title,url:e.url,domain:e.domain,snippet:e.snippet,favicon:e.favicon,metadata:e.metadata})):[],[u]);return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,r.jsx)("header",{className:"border-b border-gray-800/50 bg-black/80 backdrop-blur-sm sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"text-xl font-semibold text-white",children:"Marid- المورد"}),(0,r.jsx)("div",{className:"hidden sm:block text-sm text-gray-400",children:"AI-powered search"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsx)("button",{className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Sign in"})})]})})}),(0,r.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-4",children:"Ask anything"}),(0,r.jsx)("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto",children:"Get instant answers with sources from across the web"})]}),(0,r.jsxs)("div",{className:"relative max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{ref:j,value:e,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&b(),"Escape"===e.key&&v([])},placeholder:"Search the web...",className:"w-full h-14 pl-12 pr-16 text-lg bg-white/10 border border-gray-600 rounded-2xl outline-none focus:border-blue-500 focus:bg-white/15 transition-all duration-200 placeholder:text-gray-400 text-white backdrop-blur-sm"}),(0,r.jsx)("button",{onClick:()=>b(),disabled:a||!e.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),!a&&p.length>0&&(0,r.jsxs)("div",{className:"absolute left-0 right-0 mt-2 rounded-2xl border border-gray-600 bg-gray-900/95 backdrop-blur-sm shadow-2xl overflow-hidden animate-fade-in z-50",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-xs text-gray-400 border-b border-gray-700",children:"Suggestions"}),p.map((e,s)=>(0,r.jsx)("button",{className:"w-full text-left px-4 py-3 hover:bg-gray-800/50 transition-colors border-b border-gray-800/30 last:border-b-0 group",onClick:()=>b(e),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-500 group-hover:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("span",{className:"text-white group-hover:text-blue-300 transition-colors",children:e})]})},s))]})]})]}),m.length>0&&(0,r.jsxs)("section",{className:"space-y-8",children:[m.map((e,s)=>(0,r.jsx)("div",{className:"animate-fade-in",children:(0,r.jsx)(i,{role:e.role,content:"assistant"===e.role?(0,r.jsx)(l.UG,{remarkPlugins:[n.Z],children:e.content}):e.content})},e.id)),a&&(0,r.jsx)("div",{className:"animate-fade-in",children:(0,r.jsx)("div",{className:"max-w-3xl mr-auto rounded-2xl px-6 py-4 border border-gray-700 bg-gray-900/50",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse",style:{animationDelay:"0.4s"}}),(0,r.jsx)("span",{className:"text-gray-400 ml-2",children:"Thinking..."})]})})}),u&&(0,r.jsxs)("div",{className:"animate-fade-in space-y-6",children:[u.answer&&(0,r.jsx)("div",{className:"max-w-4xl mr-auto",children:(0,r.jsx)("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-2xl p-6",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-blue-300 mb-2",children:"Quick Answer"}),(0,r.jsx)("div",{className:"prose prose-invert max-w-none",children:(0,r.jsx)(l.UG,{remarkPlugins:[n.Z],children:u.answer})})]})]})})}),u.images&&u.images.length>0&&(0,r.jsxs)("div",{className:"max-w-4xl mr-auto",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-200",children:"Images"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:u.images.slice(0,8).map((e,s)=>(0,r.jsxs)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"group block rounded-xl overflow-hidden border border-gray-700 hover:border-gray-600 transition-all duration-200 hover:shadow-lg",children:[(0,r.jsxs)("div",{className:"aspect-square bg-gray-800 relative overflow-hidden",children:[(0,r.jsx)("img",{src:e.url,alt:e.title||"Search result image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:e=>{var s;e.currentTarget.style.display="none",null===(s=e.currentTarget.nextElementSibling)||void 0===s||s.classList.remove("hidden")}}),(0,r.jsx)("div",{className:"hidden absolute inset-0 bg-gray-700 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),e.title&&(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)("p",{className:"text-xs text-gray-300 line-clamp-2",children:e.title})})]},s))})]}),(0,r.jsx)(o,{items:f}),(0,r.jsxs)("div",{className:"max-w-3xl mr-auto text-sm text-gray-500 flex items-center space-x-4",children:[(0,r.jsxs)("span",{children:[u.total_results," results"]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[u.processing_time.toFixed(2),"s"]})]})]})]})]})]})}}},function(e){e.O(0,[943,971,23,744],function(){return e(e.s=4989)}),_N_E=e.O()}]);