"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@tavily";
exports.ids = ["vendor-chunks/@tavily"];
exports.modules = {

/***/ "(rsc)/./node_modules/@tavily/core/dist/index.mjs":
/*!**************************************************!*\
  !*** ./node_modules/@tavily/core/dist/index.mjs ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   tavily: () => (/* binding */ tavily)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var js_tiktoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! js-tiktoken */ \"(rsc)/./node_modules/js-tiktoken/dist/index.js\");\n/* harmony import */ var https_proxy_agent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! https-proxy-agent */ \"(rsc)/./node_modules/https-proxy-agent/dist/index.js\");\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/search.ts\n\n\n// src/utils.ts\n\n\n\nvar BASE_URL = \"https://api.tavily.com\";\nvar DEFAULT_MODEL_ENCODING = \"gpt-3.5-turbo\";\nvar DEFAULT_MAX_TOKENS = 4e3;\nfunction post(endpoint, body, apiKey, proxies, timeout = 60, apiBaseURL) {\n  return __async(this, null, function* () {\n    const url = `${apiBaseURL || BASE_URL}/${endpoint}`;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${apiKey}`,\n      \"X-Client-Source\": \"tavily-js\"\n    };\n    const timeoutInMillis = timeout * 1e3;\n    const config = { headers, timeout: timeoutInMillis };\n    if (proxies) {\n      if (proxies.http) {\n        config.httpAgent = new https_proxy_agent__WEBPACK_IMPORTED_MODULE_1__.HttpsProxyAgent(proxies.http);\n      }\n      if (proxies.https) {\n        config.httpsAgent = new https_proxy_agent__WEBPACK_IMPORTED_MODULE_1__.HttpsProxyAgent(proxies.https);\n      }\n    }\n    return axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(url, body, config);\n  });\n}\nfunction getTotalTokensFromString(str, encodingName = DEFAULT_MODEL_ENCODING) {\n  const encoding = (0,js_tiktoken__WEBPACK_IMPORTED_MODULE_0__.encodingForModel)(encodingName);\n  return encoding.encode(str).length;\n}\nfunction getMaxTokensFromList(data, maxTokens = DEFAULT_MAX_TOKENS) {\n  var result = [];\n  let currentTokens = 0;\n  for (let item of data) {\n    let itemString = JSON.stringify(item);\n    let newTotalTokens = currentTokens + getTotalTokensFromString(itemString);\n    if (newTotalTokens > maxTokens) {\n      break;\n    }\n    result.push(item);\n    currentTokens = newTotalTokens;\n  }\n  return JSON.stringify(result);\n}\nfunction handleRequestError(res) {\n  var _a, _b, _c, _d;\n  const status = res.status;\n  const message = (_b = (_a = res.data) == null ? void 0 : _a.detail) == null ? void 0 : _b.error;\n  if (!message) {\n    throw new Error(`${status} Error: ${JSON.stringify(res.data)}`);\n  }\n  throw new Error(`${(_d = (_c = res.data) == null ? void 0 : _c.detail) == null ? void 0 : _d.error}`);\n}\nfunction handleTimeoutError(timeout) {\n  throw new Error(`Request timed out after ${timeout} seconds.`);\n}\n\n// src/search.ts\nfunction _search(apiKey, proxies, apiBaseURL) {\n  return function search(_0) {\n    return __async(this, arguments, function* (query, options = {}) {\n      var _b, _c, _d, _e, _f;\n      const _a = options, {\n        searchDepth,\n        topic,\n        days,\n        maxResults,\n        includeImages,\n        includeImageDescriptions,\n        includeAnswer,\n        includeRawContent,\n        includeDomains,\n        excludeDomains,\n        timeRange,\n        chunksPerSource,\n        country,\n        startDate,\n        endDate,\n        autoParameters,\n        timeout,\n        includeFavicon\n      } = _a, kwargs = __objRest(_a, [\n        \"searchDepth\",\n        \"topic\",\n        \"days\",\n        \"maxResults\",\n        \"includeImages\",\n        \"includeImageDescriptions\",\n        \"includeAnswer\",\n        \"includeRawContent\",\n        \"includeDomains\",\n        \"excludeDomains\",\n        \"timeRange\",\n        \"chunksPerSource\",\n        \"country\",\n        \"startDate\",\n        \"endDate\",\n        \"autoParameters\",\n        \"timeout\",\n        \"includeFavicon\"\n      ]);\n      const requestTimeout = timeout ? Math.min(timeout, 120) : 60;\n      try {\n        const response = yield post(\n          \"search\",\n          __spreadValues({\n            query,\n            search_depth: searchDepth,\n            topic,\n            days,\n            max_results: maxResults,\n            include_images: includeImages,\n            include_image_descriptions: includeImageDescriptions,\n            include_answer: includeAnswer,\n            include_raw_content: includeRawContent,\n            include_domains: includeDomains,\n            exclude_domains: excludeDomains,\n            time_range: timeRange,\n            chunks_per_source: chunksPerSource,\n            country,\n            start_date: startDate,\n            end_date: endDate,\n            auto_parameters: autoParameters,\n            include_favicon: includeFavicon\n          }, kwargs),\n          apiKey,\n          proxies,\n          requestTimeout,\n          apiBaseURL\n        );\n        return __spreadValues({\n          query,\n          responseTime: response.data.response_time,\n          images: response.data.images.map((image) => {\n            return {\n              url: (image == null ? void 0 : image.url) || image,\n              description: image.description\n            };\n          }),\n          results: response.data.results.map((result) => {\n            return {\n              title: result.title,\n              url: result.url,\n              content: result.content,\n              rawContent: result.raw_content,\n              score: result.score,\n              publishedDate: result.published_date,\n              favicon: result.favicon\n            };\n          }),\n          answer: response.data.answer,\n          requestId: response.data.request_id\n        }, response.data.auto_parameters && {\n          autoParameters: {\n            includeDomains: (_b = response.data.auto_parameters) == null ? void 0 : _b.include_domains,\n            excludeDomains: (_c = response.data.auto_parameters) == null ? void 0 : _c.exclude_domains,\n            topic: (_d = response.data.auto_parameters) == null ? void 0 : _d.topic,\n            timeRange: (_e = response.data.auto_parameters) == null ? void 0 : _e.time_range,\n            searchDepth: (_f = response.data.auto_parameters) == null ? void 0 : _f.search_depth\n          }\n        });\n      } catch (err) {\n        if (err instanceof axios__WEBPACK_IMPORTED_MODULE_3__.AxiosError) {\n          if (err.code === \"ECONNABORTED\") {\n            handleTimeoutError(requestTimeout);\n          }\n          if (err.response) {\n            handleRequestError(err.response);\n          }\n        }\n        throw new Error(\n          `An unexpected error occurred while making the request. Error: ${err}`\n        );\n      }\n    });\n  };\n}\nfunction _searchQNA(apiKey, proxies, apiBaseURL) {\n  return function searchQNA(_0) {\n    return __async(this, arguments, function* (query, options = {}) {\n      var _a;\n      const requestTimeout = (options == null ? void 0 : options.timeout) ? Math.min(options.timeout, 120) : 60;\n      try {\n        const response = yield post(\n          \"search\",\n          {\n            query,\n            search_depth: (_a = options.searchDepth) != null ? _a : \"advanced\",\n            topic: options.topic,\n            days: options.days,\n            max_results: options.maxResults,\n            include_answer: true,\n            include_domains: options.includeDomains,\n            exclude_domains: options.excludeDomains,\n            chunks_per_source: options.chunksPerSource,\n            include_favicon: options.includeFavicon\n          },\n          apiKey,\n          proxies,\n          requestTimeout,\n          apiBaseURL\n        );\n        const answer = response.data.answer;\n        return answer;\n      } catch (err) {\n        if (err instanceof axios__WEBPACK_IMPORTED_MODULE_3__.AxiosError) {\n          if (err.code === \"ECONNABORTED\") {\n            handleTimeoutError(requestTimeout);\n          }\n          if (err.response) {\n            handleRequestError(err.response);\n          }\n        }\n        throw new Error(\n          `An unexpected error occurred while making the request. Error: ${err}`\n        );\n      }\n    });\n  };\n}\nfunction _searchContext(apiKey, proxies, apiBaseURL) {\n  return function searchContext(_0) {\n    return __async(this, arguments, function* (query, options = {}) {\n      var _a, _b;\n      const timeout = (options == null ? void 0 : options.timeout) ? Math.min(options.timeout, 120) : 60;\n      try {\n        const response = yield post(\n          \"search\",\n          {\n            query,\n            search_depth: options.searchDepth,\n            topic: options.topic,\n            days: options.days,\n            max_results: options.maxResults,\n            include_domains: options.includeDomains,\n            exclude_domains: options.excludeDomains,\n            chunks_per_source: options.chunksPerSource,\n            include_favicon: options.includeFavicon\n          },\n          apiKey,\n          proxies,\n          timeout,\n          apiBaseURL\n        );\n        const sources = ((_a = response.data) == null ? void 0 : _a.results) || [];\n        const context = sources.map((source) => {\n          return {\n            url: source.url,\n            content: source.content\n          };\n        });\n        return JSON.stringify(\n          getMaxTokensFromList(context, (_b = options.maxTokens) != null ? _b : DEFAULT_MAX_TOKENS)\n        );\n      } catch (err) {\n        if (err instanceof axios__WEBPACK_IMPORTED_MODULE_3__.AxiosError) {\n          if (err.code === \"ECONNABORTED\") {\n            handleTimeoutError(timeout);\n          }\n          if (err.response) {\n            handleRequestError(err.response);\n          }\n        }\n        throw new Error(\n          `An unexpected error occurred while making the request. Error: ${err}`\n        );\n      }\n    });\n  };\n}\n\n// src/extract.ts\n\nfunction _extract(apiKey, proxies, apiBaseURL) {\n  return function extract(_0) {\n    return __async(this, arguments, function* (urls, options = {}) {\n      const _a = options, { includeImages, extractDepth, format, timeout, includeFavicon } = _a, kwargs = __objRest(_a, [\"includeImages\", \"extractDepth\", \"format\", \"timeout\", \"includeFavicon\"]);\n      const requestTimeout = timeout ? Math.min(timeout, 120) : 30;\n      try {\n        const response = yield post(\n          \"extract\",\n          __spreadValues({\n            urls,\n            include_images: includeImages,\n            extract_depth: extractDepth,\n            format,\n            include_favicon: includeFavicon,\n            timeout\n          }, kwargs),\n          apiKey,\n          proxies,\n          requestTimeout,\n          apiBaseURL\n        );\n        return {\n          responseTime: response.data.response_time,\n          results: response.data.results.map((result) => {\n            return {\n              url: result.url,\n              rawContent: result.raw_content,\n              images: result.images,\n              favicon: result.favicon\n            };\n          }),\n          failedResults: response.data.failed_results.map((result) => {\n            return {\n              url: result.url,\n              error: result.error\n            };\n          }),\n          requestId: response.data.request_id\n        };\n      } catch (err) {\n        if (err instanceof axios__WEBPACK_IMPORTED_MODULE_3__.AxiosError) {\n          if (err.code === \"ECONNABORTED\") {\n            handleTimeoutError(requestTimeout);\n          }\n          if (err.response) {\n            handleRequestError(err.response);\n          }\n        }\n        throw new Error(\n          `An unexpected error occurred while making the request. Error: ${err}`\n        );\n      }\n    });\n  };\n}\n\n// src/crawl.ts\n\nfunction _crawl(apiKey, proxies, apiBaseURL) {\n  return function crawl(_0) {\n    return __async(this, arguments, function* (url, options = {}) {\n      const _a = options, {\n        maxDepth,\n        maxBreadth,\n        limit,\n        extractDepth,\n        selectPaths,\n        selectDomains,\n        excludePaths,\n        excludeDomains,\n        allowExternal,\n        includeImages,\n        categories,\n        instructions,\n        format,\n        timeout,\n        includeFavicon\n      } = _a, kwargs = __objRest(_a, [\n        \"maxDepth\",\n        \"maxBreadth\",\n        \"limit\",\n        \"extractDepth\",\n        \"selectPaths\",\n        \"selectDomains\",\n        \"excludePaths\",\n        \"excludeDomains\",\n        \"allowExternal\",\n        \"includeImages\",\n        \"categories\",\n        \"instructions\",\n        \"format\",\n        \"timeout\",\n        \"includeFavicon\"\n      ]);\n      const requestTimeout = timeout ? Math.min(timeout, 120) : 60;\n      try {\n        const response = yield post(\n          \"crawl\",\n          __spreadValues({\n            url,\n            max_depth: maxDepth,\n            max_breadth: maxBreadth,\n            limit,\n            extract_depth: extractDepth,\n            select_paths: selectPaths,\n            select_domains: selectDomains,\n            exclude_paths: excludePaths,\n            exclude_domains: excludeDomains,\n            allow_external: allowExternal,\n            include_images: includeImages,\n            categories,\n            instructions,\n            format,\n            include_favicon: includeFavicon\n          }, kwargs),\n          apiKey,\n          proxies,\n          requestTimeout,\n          apiBaseURL\n        );\n        return {\n          responseTime: response.data.response_time,\n          baseUrl: response.data.base_url,\n          results: response.data.results.map((item) => {\n            return {\n              url: item.url,\n              rawContent: item.raw_content,\n              images: item.images,\n              favicon: item.favicon\n            };\n          }),\n          requestId: response.data.request_id\n        };\n      } catch (err) {\n        if (err instanceof axios__WEBPACK_IMPORTED_MODULE_3__.AxiosError) {\n          if (err.code === \"ECONNABORTED\") {\n            handleTimeoutError(requestTimeout);\n          }\n          if (err.response) {\n            handleRequestError(err.response);\n          }\n        }\n        throw new Error(\n          `An unexpected error occurred while making the request. Error: ${err}`\n        );\n      }\n    });\n  };\n}\n\n// src/map.ts\n\nfunction _map(apiKey, proxies, apiBaseURL) {\n  return function map(_0) {\n    return __async(this, arguments, function* (url, options = {}) {\n      const _a = options, {\n        maxDepth,\n        maxBreadth,\n        limit,\n        selectPaths,\n        selectDomains,\n        excludePaths,\n        excludeDomains,\n        allowExternal,\n        categories,\n        instructions,\n        timeout\n      } = _a, kwargs = __objRest(_a, [\n        \"maxDepth\",\n        \"maxBreadth\",\n        \"limit\",\n        \"selectPaths\",\n        \"selectDomains\",\n        \"excludePaths\",\n        \"excludeDomains\",\n        \"allowExternal\",\n        \"categories\",\n        \"instructions\",\n        \"timeout\"\n      ]);\n      const requestTimeout = timeout ? Math.min(timeout, 120) : 60;\n      try {\n        const response = yield post(\n          \"map\",\n          __spreadValues({\n            url,\n            max_depth: maxDepth,\n            max_breadth: maxBreadth,\n            limit,\n            select_paths: selectPaths,\n            select_domains: selectDomains,\n            exclude_paths: excludePaths,\n            exclude_domains: excludeDomains,\n            allow_external: allowExternal,\n            categories,\n            instructions\n          }, kwargs),\n          apiKey,\n          proxies,\n          requestTimeout,\n          apiBaseURL\n        );\n        return {\n          responseTime: response.data.response_time,\n          baseUrl: response.data.base_url,\n          results: response.data.results,\n          requestId: response.data.request_id\n        };\n      } catch (err) {\n        if (err instanceof axios__WEBPACK_IMPORTED_MODULE_3__.AxiosError) {\n          if (err.code === \"ECONNABORTED\") {\n            handleTimeoutError(requestTimeout);\n          }\n          if (err.response) {\n            handleRequestError(err.response);\n          }\n        }\n        throw new Error(\n          `An unexpected error occurred while making the request. Error: ${err}`\n        );\n      }\n    });\n  };\n}\n\n// src/client.ts\nfunction tavily(options) {\n  const apiKey = (options == null ? void 0 : options.apiKey) || process.env.TAVILY_API_KEY;\n  const proxies = (() => {\n    var _a, _b;\n    const http = ((_a = options == null ? void 0 : options.proxies) == null ? void 0 : _a.http) || process.env.TAVILY_HTTP_PROXY;\n    const https = ((_b = options == null ? void 0 : options.proxies) == null ? void 0 : _b.https) || process.env.TAVILY_HTTPS_PROXY;\n    const result = {};\n    if (http) result.http = http;\n    if (https) result.https = https;\n    return Object.keys(result).length > 0 ? result : void 0;\n  })();\n  const apiBaseURL = options == null ? void 0 : options.apiBaseURL;\n  if (!apiKey) {\n    throw new Error(\n      \"No API key provided. Please provide the api_key attribute or set the TAVILY_API_KEY environment variable.\"\n    );\n  }\n  return {\n    search: _search(apiKey, proxies, apiBaseURL),\n    extract: _extract(apiKey, proxies, apiBaseURL),\n    searchQNA: _searchQNA(apiKey, proxies, apiBaseURL),\n    searchContext: _searchContext(apiKey, proxies, apiBaseURL),\n    crawl: _crawl(apiKey, proxies, apiBaseURL),\n    map: _map(apiKey, proxies, apiBaseURL)\n  };\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHRhdmlseS9jb3JlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsNkRBQTZEO0FBQzNJO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDbUM7O0FBRW5DO0FBQzBCO0FBQ3FCO0FBQ0s7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUIsR0FBRyxTQUFTO0FBQ3REO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTztBQUN0QztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLCtCQUErQiw4REFBZTtBQUM5QztBQUNBO0FBQ0EsZ0NBQWdDLDhEQUFlO0FBQy9DO0FBQ0E7QUFDQSxXQUFXLDZDQUFLO0FBQ2hCLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbUJBQW1CLDZEQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUSxTQUFTLHlCQUF5QjtBQUNqRTtBQUNBLHFCQUFxQixnRkFBZ0Y7QUFDckc7QUFDQTtBQUNBLDZDQUE2QyxTQUFTO0FBQ3REOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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L2NvcmUvZGlzdC9pbmRleC5tanM/YzIxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19vYmpSZXN0ID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0uY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbnZhciBfX2FzeW5jID0gKF9fdGhpcywgX19hcmd1bWVudHMsIGdlbmVyYXRvcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHZhciBmdWxmaWxsZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlamVjdGVkID0gKHZhbHVlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3RlcCA9ICh4KSA9PiB4LmRvbmUgPyByZXNvbHZlKHgudmFsdWUpIDogUHJvbWlzZS5yZXNvbHZlKHgudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KF9fdGhpcywgX19hcmd1bWVudHMpKS5uZXh0KCkpO1xuICB9KTtcbn07XG5cbi8vIHNyYy9zZWFyY2gudHNcbmltcG9ydCB7IEF4aW9zRXJyb3IgfSBmcm9tIFwiYXhpb3NcIjtcblxuLy8gc3JjL3V0aWxzLnRzXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyBlbmNvZGluZ0Zvck1vZGVsIH0gZnJvbSBcImpzLXRpa3Rva2VuXCI7XG5pbXBvcnQgeyBIdHRwc1Byb3h5QWdlbnQgfSBmcm9tIFwiaHR0cHMtcHJveHktYWdlbnRcIjtcbnZhciBCQVNFX1VSTCA9IFwiaHR0cHM6Ly9hcGkudGF2aWx5LmNvbVwiO1xudmFyIERFRkFVTFRfTU9ERUxfRU5DT0RJTkcgPSBcImdwdC0zLjUtdHVyYm9cIjtcbnZhciBERUZBVUxUX01BWF9UT0tFTlMgPSA0ZTM7XG5mdW5jdGlvbiBwb3N0KGVuZHBvaW50LCBib2R5LCBhcGlLZXksIHByb3hpZXMsIHRpbWVvdXQgPSA2MCwgYXBpQmFzZVVSTCkge1xuICByZXR1cm4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHVybCA9IGAke2FwaUJhc2VVUkwgfHwgQkFTRV9VUkx9LyR7ZW5kcG9pbnR9YDtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gICAgICBcIlgtQ2xpZW50LVNvdXJjZVwiOiBcInRhdmlseS1qc1wiXG4gICAgfTtcbiAgICBjb25zdCB0aW1lb3V0SW5NaWxsaXMgPSB0aW1lb3V0ICogMWUzO1xuICAgIGNvbnN0IGNvbmZpZyA9IHsgaGVhZGVycywgdGltZW91dDogdGltZW91dEluTWlsbGlzIH07XG4gICAgaWYgKHByb3hpZXMpIHtcbiAgICAgIGlmIChwcm94aWVzLmh0dHApIHtcbiAgICAgICAgY29uZmlnLmh0dHBBZ2VudCA9IG5ldyBIdHRwc1Byb3h5QWdlbnQocHJveGllcy5odHRwKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm94aWVzLmh0dHBzKSB7XG4gICAgICAgIGNvbmZpZy5odHRwc0FnZW50ID0gbmV3IEh0dHBzUHJveHlBZ2VudChwcm94aWVzLmh0dHBzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBib2R5LCBjb25maWcpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFRvdGFsVG9rZW5zRnJvbVN0cmluZyhzdHIsIGVuY29kaW5nTmFtZSA9IERFRkFVTFRfTU9ERUxfRU5DT0RJTkcpIHtcbiAgY29uc3QgZW5jb2RpbmcgPSBlbmNvZGluZ0Zvck1vZGVsKGVuY29kaW5nTmFtZSk7XG4gIHJldHVybiBlbmNvZGluZy5lbmNvZGUoc3RyKS5sZW5ndGg7XG59XG5mdW5jdGlvbiBnZXRNYXhUb2tlbnNGcm9tTGlzdChkYXRhLCBtYXhUb2tlbnMgPSBERUZBVUxUX01BWF9UT0tFTlMpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBsZXQgY3VycmVudFRva2VucyA9IDA7XG4gIGZvciAobGV0IGl0ZW0gb2YgZGF0YSkge1xuICAgIGxldCBpdGVtU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoaXRlbSk7XG4gICAgbGV0IG5ld1RvdGFsVG9rZW5zID0gY3VycmVudFRva2VucyArIGdldFRvdGFsVG9rZW5zRnJvbVN0cmluZyhpdGVtU3RyaW5nKTtcbiAgICBpZiAobmV3VG90YWxUb2tlbnMgPiBtYXhUb2tlbnMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICBjdXJyZW50VG9rZW5zID0gbmV3VG90YWxUb2tlbnM7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG59XG5mdW5jdGlvbiBoYW5kbGVSZXF1ZXN0RXJyb3IocmVzKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgY29uc3Qgc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgY29uc3QgbWVzc2FnZSA9IChfYiA9IChfYSA9IHJlcy5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZGV0YWlsKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZXJyb3I7XG4gIGlmICghbWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtzdGF0dXN9IEVycm9yOiAke0pTT04uc3RyaW5naWZ5KHJlcy5kYXRhKX1gKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYCR7KF9kID0gKF9jID0gcmVzLmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYy5kZXRhaWwpID09IG51bGwgPyB2b2lkIDAgOiBfZC5lcnJvcn1gKTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVRpbWVvdXRFcnJvcih0aW1lb3V0KSB7XG4gIHRocm93IG5ldyBFcnJvcihgUmVxdWVzdCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fSBzZWNvbmRzLmApO1xufVxuXG4vLyBzcmMvc2VhcmNoLnRzXG5mdW5jdGlvbiBfc2VhcmNoKGFwaUtleSwgcHJveGllcywgYXBpQmFzZVVSTCkge1xuICByZXR1cm4gZnVuY3Rpb24gc2VhcmNoKF8wKSB7XG4gICAgcmV0dXJuIF9fYXN5bmModGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKHF1ZXJ5LCBvcHRpb25zID0ge30pIHtcbiAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICBjb25zdCBfYSA9IG9wdGlvbnMsIHtcbiAgICAgICAgc2VhcmNoRGVwdGgsXG4gICAgICAgIHRvcGljLFxuICAgICAgICBkYXlzLFxuICAgICAgICBtYXhSZXN1bHRzLFxuICAgICAgICBpbmNsdWRlSW1hZ2VzLFxuICAgICAgICBpbmNsdWRlSW1hZ2VEZXNjcmlwdGlvbnMsXG4gICAgICAgIGluY2x1ZGVBbnN3ZXIsXG4gICAgICAgIGluY2x1ZGVSYXdDb250ZW50LFxuICAgICAgICBpbmNsdWRlRG9tYWlucyxcbiAgICAgICAgZXhjbHVkZURvbWFpbnMsXG4gICAgICAgIHRpbWVSYW5nZSxcbiAgICAgICAgY2h1bmtzUGVyU291cmNlLFxuICAgICAgICBjb3VudHJ5LFxuICAgICAgICBzdGFydERhdGUsXG4gICAgICAgIGVuZERhdGUsXG4gICAgICAgIGF1dG9QYXJhbWV0ZXJzLFxuICAgICAgICB0aW1lb3V0LFxuICAgICAgICBpbmNsdWRlRmF2aWNvblxuICAgICAgfSA9IF9hLCBrd2FyZ3MgPSBfX29ialJlc3QoX2EsIFtcbiAgICAgICAgXCJzZWFyY2hEZXB0aFwiLFxuICAgICAgICBcInRvcGljXCIsXG4gICAgICAgIFwiZGF5c1wiLFxuICAgICAgICBcIm1heFJlc3VsdHNcIixcbiAgICAgICAgXCJpbmNsdWRlSW1hZ2VzXCIsXG4gICAgICAgIFwiaW5jbHVkZUltYWdlRGVzY3JpcHRpb25zXCIsXG4gICAgICAgIFwiaW5jbHVkZUFuc3dlclwiLFxuICAgICAgICBcImluY2x1ZGVSYXdDb250ZW50XCIsXG4gICAgICAgIFwiaW5jbHVkZURvbWFpbnNcIixcbiAgICAgICAgXCJleGNsdWRlRG9tYWluc1wiLFxuICAgICAgICBcInRpbWVSYW5nZVwiLFxuICAgICAgICBcImNodW5rc1BlclNvdXJjZVwiLFxuICAgICAgICBcImNvdW50cnlcIixcbiAgICAgICAgXCJzdGFydERhdGVcIixcbiAgICAgICAgXCJlbmREYXRlXCIsXG4gICAgICAgIFwiYXV0b1BhcmFtZXRlcnNcIixcbiAgICAgICAgXCJ0aW1lb3V0XCIsXG4gICAgICAgIFwiaW5jbHVkZUZhdmljb25cIlxuICAgICAgXSk7XG4gICAgICBjb25zdCByZXF1ZXN0VGltZW91dCA9IHRpbWVvdXQgPyBNYXRoLm1pbih0aW1lb3V0LCAxMjApIDogNjA7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHBvc3QoXG4gICAgICAgICAgXCJzZWFyY2hcIixcbiAgICAgICAgICBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHNlYXJjaF9kZXB0aDogc2VhcmNoRGVwdGgsXG4gICAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICAgIGRheXMsXG4gICAgICAgICAgICBtYXhfcmVzdWx0czogbWF4UmVzdWx0cyxcbiAgICAgICAgICAgIGluY2x1ZGVfaW1hZ2VzOiBpbmNsdWRlSW1hZ2VzLFxuICAgICAgICAgICAgaW5jbHVkZV9pbWFnZV9kZXNjcmlwdGlvbnM6IGluY2x1ZGVJbWFnZURlc2NyaXB0aW9ucyxcbiAgICAgICAgICAgIGluY2x1ZGVfYW5zd2VyOiBpbmNsdWRlQW5zd2VyLFxuICAgICAgICAgICAgaW5jbHVkZV9yYXdfY29udGVudDogaW5jbHVkZVJhd0NvbnRlbnQsXG4gICAgICAgICAgICBpbmNsdWRlX2RvbWFpbnM6IGluY2x1ZGVEb21haW5zLFxuICAgICAgICAgICAgZXhjbHVkZV9kb21haW5zOiBleGNsdWRlRG9tYWlucyxcbiAgICAgICAgICAgIHRpbWVfcmFuZ2U6IHRpbWVSYW5nZSxcbiAgICAgICAgICAgIGNodW5rc19wZXJfc291cmNlOiBjaHVua3NQZXJTb3VyY2UsXG4gICAgICAgICAgICBjb3VudHJ5LFxuICAgICAgICAgICAgc3RhcnRfZGF0ZTogc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kX2RhdGU6IGVuZERhdGUsXG4gICAgICAgICAgICBhdXRvX3BhcmFtZXRlcnM6IGF1dG9QYXJhbWV0ZXJzLFxuICAgICAgICAgICAgaW5jbHVkZV9mYXZpY29uOiBpbmNsdWRlRmF2aWNvblxuICAgICAgICAgIH0sIGt3YXJncyksXG4gICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgIHByb3hpZXMsXG4gICAgICAgICAgcmVxdWVzdFRpbWVvdXQsXG4gICAgICAgICAgYXBpQmFzZVVSTFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgIHJlc3BvbnNlVGltZTogcmVzcG9uc2UuZGF0YS5yZXNwb25zZV90aW1lLFxuICAgICAgICAgIGltYWdlczogcmVzcG9uc2UuZGF0YS5pbWFnZXMubWFwKChpbWFnZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdXJsOiAoaW1hZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IGltYWdlLnVybCkgfHwgaW1hZ2UsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpbWFnZS5kZXNjcmlwdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByZXN1bHRzOiByZXNwb25zZS5kYXRhLnJlc3VsdHMubWFwKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHRpdGxlOiByZXN1bHQudGl0bGUsXG4gICAgICAgICAgICAgIHVybDogcmVzdWx0LnVybCxcbiAgICAgICAgICAgICAgY29udGVudDogcmVzdWx0LmNvbnRlbnQsXG4gICAgICAgICAgICAgIHJhd0NvbnRlbnQ6IHJlc3VsdC5yYXdfY29udGVudCxcbiAgICAgICAgICAgICAgc2NvcmU6IHJlc3VsdC5zY29yZSxcbiAgICAgICAgICAgICAgcHVibGlzaGVkRGF0ZTogcmVzdWx0LnB1Ymxpc2hlZF9kYXRlLFxuICAgICAgICAgICAgICBmYXZpY29uOiByZXN1bHQuZmF2aWNvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBhbnN3ZXI6IHJlc3BvbnNlLmRhdGEuYW5zd2VyLFxuICAgICAgICAgIHJlcXVlc3RJZDogcmVzcG9uc2UuZGF0YS5yZXF1ZXN0X2lkXG4gICAgICAgIH0sIHJlc3BvbnNlLmRhdGEuYXV0b19wYXJhbWV0ZXJzICYmIHtcbiAgICAgICAgICBhdXRvUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgaW5jbHVkZURvbWFpbnM6IChfYiA9IHJlc3BvbnNlLmRhdGEuYXV0b19wYXJhbWV0ZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5jbHVkZV9kb21haW5zLFxuICAgICAgICAgICAgZXhjbHVkZURvbWFpbnM6IChfYyA9IHJlc3BvbnNlLmRhdGEuYXV0b19wYXJhbWV0ZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2MuZXhjbHVkZV9kb21haW5zLFxuICAgICAgICAgICAgdG9waWM6IChfZCA9IHJlc3BvbnNlLmRhdGEuYXV0b19wYXJhbWV0ZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2QudG9waWMsXG4gICAgICAgICAgICB0aW1lUmFuZ2U6IChfZSA9IHJlc3BvbnNlLmRhdGEuYXV0b19wYXJhbWV0ZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2UudGltZV9yYW5nZSxcbiAgICAgICAgICAgIHNlYXJjaERlcHRoOiAoX2YgPSByZXNwb25zZS5kYXRhLmF1dG9fcGFyYW1ldGVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLnNlYXJjaF9kZXB0aFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEF4aW9zRXJyb3IpIHtcbiAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IFwiRUNPTk5BQk9SVEVEXCIpIHtcbiAgICAgICAgICAgIGhhbmRsZVRpbWVvdXRFcnJvcihyZXF1ZXN0VGltZW91dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RFcnJvcihlcnIucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgbWFraW5nIHRoZSByZXF1ZXN0LiBFcnJvcjogJHtlcnJ9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuZnVuY3Rpb24gX3NlYXJjaFFOQShhcGlLZXksIHByb3hpZXMsIGFwaUJhc2VVUkwpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHNlYXJjaFFOQShfMCkge1xuICAgIHJldHVybiBfX2FzeW5jKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qIChxdWVyeSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCByZXF1ZXN0VGltZW91dCA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpID8gTWF0aC5taW4ob3B0aW9ucy50aW1lb3V0LCAxMjApIDogNjA7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHBvc3QoXG4gICAgICAgICAgXCJzZWFyY2hcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIHNlYXJjaF9kZXB0aDogKF9hID0gb3B0aW9ucy5zZWFyY2hEZXB0aCkgIT0gbnVsbCA/IF9hIDogXCJhZHZhbmNlZFwiLFxuICAgICAgICAgICAgdG9waWM6IG9wdGlvbnMudG9waWMsXG4gICAgICAgICAgICBkYXlzOiBvcHRpb25zLmRheXMsXG4gICAgICAgICAgICBtYXhfcmVzdWx0czogb3B0aW9ucy5tYXhSZXN1bHRzLFxuICAgICAgICAgICAgaW5jbHVkZV9hbnN3ZXI6IHRydWUsXG4gICAgICAgICAgICBpbmNsdWRlX2RvbWFpbnM6IG9wdGlvbnMuaW5jbHVkZURvbWFpbnMsXG4gICAgICAgICAgICBleGNsdWRlX2RvbWFpbnM6IG9wdGlvbnMuZXhjbHVkZURvbWFpbnMsXG4gICAgICAgICAgICBjaHVua3NfcGVyX3NvdXJjZTogb3B0aW9ucy5jaHVua3NQZXJTb3VyY2UsXG4gICAgICAgICAgICBpbmNsdWRlX2Zhdmljb246IG9wdGlvbnMuaW5jbHVkZUZhdmljb25cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICBwcm94aWVzLFxuICAgICAgICAgIHJlcXVlc3RUaW1lb3V0LFxuICAgICAgICAgIGFwaUJhc2VVUkxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgYW5zd2VyID0gcmVzcG9uc2UuZGF0YS5hbnN3ZXI7XG4gICAgICAgIHJldHVybiBhbnN3ZXI7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEF4aW9zRXJyb3IpIHtcbiAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IFwiRUNPTk5BQk9SVEVEXCIpIHtcbiAgICAgICAgICAgIGhhbmRsZVRpbWVvdXRFcnJvcihyZXF1ZXN0VGltZW91dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RFcnJvcihlcnIucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgbWFraW5nIHRoZSByZXF1ZXN0LiBFcnJvcjogJHtlcnJ9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuZnVuY3Rpb24gX3NlYXJjaENvbnRleHQoYXBpS2V5LCBwcm94aWVzLCBhcGlCYXNlVVJMKSB7XG4gIHJldHVybiBmdW5jdGlvbiBzZWFyY2hDb250ZXh0KF8wKSB7XG4gICAgcmV0dXJuIF9fYXN5bmModGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKHF1ZXJ5LCBvcHRpb25zID0ge30pIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBjb25zdCB0aW1lb3V0ID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudGltZW91dCkgPyBNYXRoLm1pbihvcHRpb25zLnRpbWVvdXQsIDEyMCkgOiA2MDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgcG9zdChcbiAgICAgICAgICBcInNlYXJjaFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgc2VhcmNoX2RlcHRoOiBvcHRpb25zLnNlYXJjaERlcHRoLFxuICAgICAgICAgICAgdG9waWM6IG9wdGlvbnMudG9waWMsXG4gICAgICAgICAgICBkYXlzOiBvcHRpb25zLmRheXMsXG4gICAgICAgICAgICBtYXhfcmVzdWx0czogb3B0aW9ucy5tYXhSZXN1bHRzLFxuICAgICAgICAgICAgaW5jbHVkZV9kb21haW5zOiBvcHRpb25zLmluY2x1ZGVEb21haW5zLFxuICAgICAgICAgICAgZXhjbHVkZV9kb21haW5zOiBvcHRpb25zLmV4Y2x1ZGVEb21haW5zLFxuICAgICAgICAgICAgY2h1bmtzX3Blcl9zb3VyY2U6IG9wdGlvbnMuY2h1bmtzUGVyU291cmNlLFxuICAgICAgICAgICAgaW5jbHVkZV9mYXZpY29uOiBvcHRpb25zLmluY2x1ZGVGYXZpY29uXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgcHJveGllcyxcbiAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgIGFwaUJhc2VVUkxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc291cmNlcyA9ICgoX2EgPSByZXNwb25zZS5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVzdWx0cykgfHwgW107XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBzb3VyY2VzLm1hcCgoc291cmNlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogc291cmNlLnVybCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHNvdXJjZS5jb250ZW50XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBnZXRNYXhUb2tlbnNGcm9tTGlzdChjb250ZXh0LCAoX2IgPSBvcHRpb25zLm1heFRva2VucykgIT0gbnVsbCA/IF9iIDogREVGQVVMVF9NQVhfVE9LRU5TKVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yKSB7XG4gICAgICAgICAgaWYgKGVyci5jb2RlID09PSBcIkVDT05OQUJPUlRFRFwiKSB7XG4gICAgICAgICAgICBoYW5kbGVUaW1lb3V0RXJyb3IodGltZW91dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RFcnJvcihlcnIucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgbWFraW5nIHRoZSByZXF1ZXN0LiBFcnJvcjogJHtlcnJ9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vLyBzcmMvZXh0cmFjdC50c1xuaW1wb3J0IHsgQXhpb3NFcnJvciBhcyBBeGlvc0Vycm9yMiB9IGZyb20gXCJheGlvc1wiO1xuZnVuY3Rpb24gX2V4dHJhY3QoYXBpS2V5LCBwcm94aWVzLCBhcGlCYXNlVVJMKSB7XG4gIHJldHVybiBmdW5jdGlvbiBleHRyYWN0KF8wKSB7XG4gICAgcmV0dXJuIF9fYXN5bmModGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKHVybHMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgY29uc3QgX2EgPSBvcHRpb25zLCB7IGluY2x1ZGVJbWFnZXMsIGV4dHJhY3REZXB0aCwgZm9ybWF0LCB0aW1lb3V0LCBpbmNsdWRlRmF2aWNvbiB9ID0gX2EsIGt3YXJncyA9IF9fb2JqUmVzdChfYSwgW1wiaW5jbHVkZUltYWdlc1wiLCBcImV4dHJhY3REZXB0aFwiLCBcImZvcm1hdFwiLCBcInRpbWVvdXRcIiwgXCJpbmNsdWRlRmF2aWNvblwiXSk7XG4gICAgICBjb25zdCByZXF1ZXN0VGltZW91dCA9IHRpbWVvdXQgPyBNYXRoLm1pbih0aW1lb3V0LCAxMjApIDogMzA7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHBvc3QoXG4gICAgICAgICAgXCJleHRyYWN0XCIsXG4gICAgICAgICAgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICAgICAgdXJscyxcbiAgICAgICAgICAgIGluY2x1ZGVfaW1hZ2VzOiBpbmNsdWRlSW1hZ2VzLFxuICAgICAgICAgICAgZXh0cmFjdF9kZXB0aDogZXh0cmFjdERlcHRoLFxuICAgICAgICAgICAgZm9ybWF0LFxuICAgICAgICAgICAgaW5jbHVkZV9mYXZpY29uOiBpbmNsdWRlRmF2aWNvbixcbiAgICAgICAgICAgIHRpbWVvdXRcbiAgICAgICAgICB9LCBrd2FyZ3MpLFxuICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICBwcm94aWVzLFxuICAgICAgICAgIHJlcXVlc3RUaW1lb3V0LFxuICAgICAgICAgIGFwaUJhc2VVUkxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZVRpbWU6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VfdGltZSxcbiAgICAgICAgICByZXN1bHRzOiByZXNwb25zZS5kYXRhLnJlc3VsdHMubWFwKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHVybDogcmVzdWx0LnVybCxcbiAgICAgICAgICAgICAgcmF3Q29udGVudDogcmVzdWx0LnJhd19jb250ZW50LFxuICAgICAgICAgICAgICBpbWFnZXM6IHJlc3VsdC5pbWFnZXMsXG4gICAgICAgICAgICAgIGZhdmljb246IHJlc3VsdC5mYXZpY29uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGZhaWxlZFJlc3VsdHM6IHJlc3BvbnNlLmRhdGEuZmFpbGVkX3Jlc3VsdHMubWFwKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHVybDogcmVzdWx0LnVybCxcbiAgICAgICAgICAgICAgZXJyb3I6IHJlc3VsdC5lcnJvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByZXF1ZXN0SWQ6IHJlc3BvbnNlLmRhdGEucmVxdWVzdF9pZFxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yMikge1xuICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gXCJFQ09OTkFCT1JURURcIikge1xuICAgICAgICAgICAgaGFuZGxlVGltZW91dEVycm9yKHJlcXVlc3RUaW1lb3V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVyci5yZXNwb25zZSkge1xuICAgICAgICAgICAgaGFuZGxlUmVxdWVzdEVycm9yKGVyci5yZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBtYWtpbmcgdGhlIHJlcXVlc3QuIEVycm9yOiAke2Vycn1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIHNyYy9jcmF3bC50c1xuaW1wb3J0IHsgQXhpb3NFcnJvciBhcyBBeGlvc0Vycm9yMyB9IGZyb20gXCJheGlvc1wiO1xuZnVuY3Rpb24gX2NyYXdsKGFwaUtleSwgcHJveGllcywgYXBpQmFzZVVSTCkge1xuICByZXR1cm4gZnVuY3Rpb24gY3Jhd2woXzApIHtcbiAgICByZXR1cm4gX19hc3luYyh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAodXJsLCBvcHRpb25zID0ge30pIHtcbiAgICAgIGNvbnN0IF9hID0gb3B0aW9ucywge1xuICAgICAgICBtYXhEZXB0aCxcbiAgICAgICAgbWF4QnJlYWR0aCxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIGV4dHJhY3REZXB0aCxcbiAgICAgICAgc2VsZWN0UGF0aHMsXG4gICAgICAgIHNlbGVjdERvbWFpbnMsXG4gICAgICAgIGV4Y2x1ZGVQYXRocyxcbiAgICAgICAgZXhjbHVkZURvbWFpbnMsXG4gICAgICAgIGFsbG93RXh0ZXJuYWwsXG4gICAgICAgIGluY2x1ZGVJbWFnZXMsXG4gICAgICAgIGNhdGVnb3JpZXMsXG4gICAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICB0aW1lb3V0LFxuICAgICAgICBpbmNsdWRlRmF2aWNvblxuICAgICAgfSA9IF9hLCBrd2FyZ3MgPSBfX29ialJlc3QoX2EsIFtcbiAgICAgICAgXCJtYXhEZXB0aFwiLFxuICAgICAgICBcIm1heEJyZWFkdGhcIixcbiAgICAgICAgXCJsaW1pdFwiLFxuICAgICAgICBcImV4dHJhY3REZXB0aFwiLFxuICAgICAgICBcInNlbGVjdFBhdGhzXCIsXG4gICAgICAgIFwic2VsZWN0RG9tYWluc1wiLFxuICAgICAgICBcImV4Y2x1ZGVQYXRoc1wiLFxuICAgICAgICBcImV4Y2x1ZGVEb21haW5zXCIsXG4gICAgICAgIFwiYWxsb3dFeHRlcm5hbFwiLFxuICAgICAgICBcImluY2x1ZGVJbWFnZXNcIixcbiAgICAgICAgXCJjYXRlZ29yaWVzXCIsXG4gICAgICAgIFwiaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgIFwiZm9ybWF0XCIsXG4gICAgICAgIFwidGltZW91dFwiLFxuICAgICAgICBcImluY2x1ZGVGYXZpY29uXCJcbiAgICAgIF0pO1xuICAgICAgY29uc3QgcmVxdWVzdFRpbWVvdXQgPSB0aW1lb3V0ID8gTWF0aC5taW4odGltZW91dCwgMTIwKSA6IDYwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBwb3N0KFxuICAgICAgICAgIFwiY3Jhd2xcIixcbiAgICAgICAgICBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBtYXhfZGVwdGg6IG1heERlcHRoLFxuICAgICAgICAgICAgbWF4X2JyZWFkdGg6IG1heEJyZWFkdGgsXG4gICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgIGV4dHJhY3RfZGVwdGg6IGV4dHJhY3REZXB0aCxcbiAgICAgICAgICAgIHNlbGVjdF9wYXRoczogc2VsZWN0UGF0aHMsXG4gICAgICAgICAgICBzZWxlY3RfZG9tYWluczogc2VsZWN0RG9tYWlucyxcbiAgICAgICAgICAgIGV4Y2x1ZGVfcGF0aHM6IGV4Y2x1ZGVQYXRocyxcbiAgICAgICAgICAgIGV4Y2x1ZGVfZG9tYWluczogZXhjbHVkZURvbWFpbnMsXG4gICAgICAgICAgICBhbGxvd19leHRlcm5hbDogYWxsb3dFeHRlcm5hbCxcbiAgICAgICAgICAgIGluY2x1ZGVfaW1hZ2VzOiBpbmNsdWRlSW1hZ2VzLFxuICAgICAgICAgICAgY2F0ZWdvcmllcyxcbiAgICAgICAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICAgIGluY2x1ZGVfZmF2aWNvbjogaW5jbHVkZUZhdmljb25cbiAgICAgICAgICB9LCBrd2FyZ3MpLFxuICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICBwcm94aWVzLFxuICAgICAgICAgIHJlcXVlc3RUaW1lb3V0LFxuICAgICAgICAgIGFwaUJhc2VVUkxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZVRpbWU6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2VfdGltZSxcbiAgICAgICAgICBiYXNlVXJsOiByZXNwb25zZS5kYXRhLmJhc2VfdXJsLFxuICAgICAgICAgIHJlc3VsdHM6IHJlc3BvbnNlLmRhdGEucmVzdWx0cy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHVybDogaXRlbS51cmwsXG4gICAgICAgICAgICAgIHJhd0NvbnRlbnQ6IGl0ZW0ucmF3X2NvbnRlbnQsXG4gICAgICAgICAgICAgIGltYWdlczogaXRlbS5pbWFnZXMsXG4gICAgICAgICAgICAgIGZhdmljb246IGl0ZW0uZmF2aWNvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByZXF1ZXN0SWQ6IHJlc3BvbnNlLmRhdGEucmVxdWVzdF9pZFxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yMykge1xuICAgICAgICAgIGlmIChlcnIuY29kZSA9PT0gXCJFQ09OTkFCT1JURURcIikge1xuICAgICAgICAgICAgaGFuZGxlVGltZW91dEVycm9yKHJlcXVlc3RUaW1lb3V0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVyci5yZXNwb25zZSkge1xuICAgICAgICAgICAgaGFuZGxlUmVxdWVzdEVycm9yKGVyci5yZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBtYWtpbmcgdGhlIHJlcXVlc3QuIEVycm9yOiAke2Vycn1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIHNyYy9tYXAudHNcbmltcG9ydCB7IEF4aW9zRXJyb3IgYXMgQXhpb3NFcnJvcjQgfSBmcm9tIFwiYXhpb3NcIjtcbmZ1bmN0aW9uIF9tYXAoYXBpS2V5LCBwcm94aWVzLCBhcGlCYXNlVVJMKSB7XG4gIHJldHVybiBmdW5jdGlvbiBtYXAoXzApIHtcbiAgICByZXR1cm4gX19hc3luYyh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAodXJsLCBvcHRpb25zID0ge30pIHtcbiAgICAgIGNvbnN0IF9hID0gb3B0aW9ucywge1xuICAgICAgICBtYXhEZXB0aCxcbiAgICAgICAgbWF4QnJlYWR0aCxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIHNlbGVjdFBhdGhzLFxuICAgICAgICBzZWxlY3REb21haW5zLFxuICAgICAgICBleGNsdWRlUGF0aHMsXG4gICAgICAgIGV4Y2x1ZGVEb21haW5zLFxuICAgICAgICBhbGxvd0V4dGVybmFsLFxuICAgICAgICBjYXRlZ29yaWVzLFxuICAgICAgICBpbnN0cnVjdGlvbnMsXG4gICAgICAgIHRpbWVvdXRcbiAgICAgIH0gPSBfYSwga3dhcmdzID0gX19vYmpSZXN0KF9hLCBbXG4gICAgICAgIFwibWF4RGVwdGhcIixcbiAgICAgICAgXCJtYXhCcmVhZHRoXCIsXG4gICAgICAgIFwibGltaXRcIixcbiAgICAgICAgXCJzZWxlY3RQYXRoc1wiLFxuICAgICAgICBcInNlbGVjdERvbWFpbnNcIixcbiAgICAgICAgXCJleGNsdWRlUGF0aHNcIixcbiAgICAgICAgXCJleGNsdWRlRG9tYWluc1wiLFxuICAgICAgICBcImFsbG93RXh0ZXJuYWxcIixcbiAgICAgICAgXCJjYXRlZ29yaWVzXCIsXG4gICAgICAgIFwiaW5zdHJ1Y3Rpb25zXCIsXG4gICAgICAgIFwidGltZW91dFwiXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IHJlcXVlc3RUaW1lb3V0ID0gdGltZW91dCA/IE1hdGgubWluKHRpbWVvdXQsIDEyMCkgOiA2MDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgcG9zdChcbiAgICAgICAgICBcIm1hcFwiLFxuICAgICAgICAgIF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIG1heF9kZXB0aDogbWF4RGVwdGgsXG4gICAgICAgICAgICBtYXhfYnJlYWR0aDogbWF4QnJlYWR0aCxcbiAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgc2VsZWN0X3BhdGhzOiBzZWxlY3RQYXRocyxcbiAgICAgICAgICAgIHNlbGVjdF9kb21haW5zOiBzZWxlY3REb21haW5zLFxuICAgICAgICAgICAgZXhjbHVkZV9wYXRoczogZXhjbHVkZVBhdGhzLFxuICAgICAgICAgICAgZXhjbHVkZV9kb21haW5zOiBleGNsdWRlRG9tYWlucyxcbiAgICAgICAgICAgIGFsbG93X2V4dGVybmFsOiBhbGxvd0V4dGVybmFsLFxuICAgICAgICAgICAgY2F0ZWdvcmllcyxcbiAgICAgICAgICAgIGluc3RydWN0aW9uc1xuICAgICAgICAgIH0sIGt3YXJncyksXG4gICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgIHByb3hpZXMsXG4gICAgICAgICAgcmVxdWVzdFRpbWVvdXQsXG4gICAgICAgICAgYXBpQmFzZVVSTFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3BvbnNlVGltZTogcmVzcG9uc2UuZGF0YS5yZXNwb25zZV90aW1lLFxuICAgICAgICAgIGJhc2VVcmw6IHJlc3BvbnNlLmRhdGEuYmFzZV91cmwsXG4gICAgICAgICAgcmVzdWx0czogcmVzcG9uc2UuZGF0YS5yZXN1bHRzLFxuICAgICAgICAgIHJlcXVlc3RJZDogcmVzcG9uc2UuZGF0YS5yZXF1ZXN0X2lkXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEF4aW9zRXJyb3I0KSB7XG4gICAgICAgICAgaWYgKGVyci5jb2RlID09PSBcIkVDT05OQUJPUlRFRFwiKSB7XG4gICAgICAgICAgICBoYW5kbGVUaW1lb3V0RXJyb3IocmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXJyLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBoYW5kbGVSZXF1ZXN0RXJyb3IoZXJyLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIG1ha2luZyB0aGUgcmVxdWVzdC4gRXJyb3I6ICR7ZXJyfWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gc3JjL2NsaWVudC50c1xuZnVuY3Rpb24gdGF2aWx5KG9wdGlvbnMpIHtcbiAgY29uc3QgYXBpS2V5ID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuYXBpS2V5KSB8fCBwcm9jZXNzLmVudi5UQVZJTFlfQVBJX0tFWTtcbiAgY29uc3QgcHJveGllcyA9ICgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBodHRwID0gKChfYSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucHJveGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmh0dHApIHx8IHByb2Nlc3MuZW52LlRBVklMWV9IVFRQX1BST1hZO1xuICAgIGNvbnN0IGh0dHBzID0gKChfYiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucHJveGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmh0dHBzKSB8fCBwcm9jZXNzLmVudi5UQVZJTFlfSFRUUFNfUFJPWFk7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgaWYgKGh0dHApIHJlc3VsdC5odHRwID0gaHR0cDtcbiAgICBpZiAoaHR0cHMpIHJlc3VsdC5odHRwcyA9IGh0dHBzO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhyZXN1bHQpLmxlbmd0aCA+IDAgPyByZXN1bHQgOiB2b2lkIDA7XG4gIH0pKCk7XG4gIGNvbnN0IGFwaUJhc2VVUkwgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmFwaUJhc2VVUkw7XG4gIGlmICghYXBpS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJObyBBUEkga2V5IHByb3ZpZGVkLiBQbGVhc2UgcHJvdmlkZSB0aGUgYXBpX2tleSBhdHRyaWJ1dGUgb3Igc2V0IHRoZSBUQVZJTFlfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZS5cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzZWFyY2g6IF9zZWFyY2goYXBpS2V5LCBwcm94aWVzLCBhcGlCYXNlVVJMKSxcbiAgICBleHRyYWN0OiBfZXh0cmFjdChhcGlLZXksIHByb3hpZXMsIGFwaUJhc2VVUkwpLFxuICAgIHNlYXJjaFFOQTogX3NlYXJjaFFOQShhcGlLZXksIHByb3hpZXMsIGFwaUJhc2VVUkwpLFxuICAgIHNlYXJjaENvbnRleHQ6IF9zZWFyY2hDb250ZXh0KGFwaUtleSwgcHJveGllcywgYXBpQmFzZVVSTCksXG4gICAgY3Jhd2w6IF9jcmF3bChhcGlLZXksIHByb3hpZXMsIGFwaUJhc2VVUkwpLFxuICAgIG1hcDogX21hcChhcGlLZXksIHByb3hpZXMsIGFwaUJhc2VVUkwpXG4gIH07XG59XG5leHBvcnQge1xuICB0YXZpbHlcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@tavily/core/dist/index.mjs\n");

/***/ })

};
;